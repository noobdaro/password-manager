<link rel="stylesheet" href="/css/style.css">

<div class="container">
  <h2>Your Vault üîê</h2>
  <a href="/passwords/add">+ Add New</a>
  <br><br>

  <% passwords.forEach(p => { %>
    <div class="password-item">
      <strong><%= p.site %></strong><br>
      <small><%= p.username %></small>

      <input
        type="password"
        value="<%= p.password %>"
        id="pwd-<%= p._id %>"
        readonly
      >

      <div class="password-actions">
        <button onclick="toggle('<%= p._id %>')">Show</button>

        <form action="/passwords/delete/<%= p._id %>" method="POST">
          <button class="btn-danger">Delete</button>
        </form>
      </div>
    </div>
  <% }) %>
  <a href="/logout" style="
     display:inline-block;
     padding:10px 18px;
     background:#f97316;
     color:#fff;
     font-weight:600;
     border-radius:10px;
     text-decoration:none;
     box-shadow:0 4px 10px rgba(249,115,22,0.4);
   ">Logout</a>
</div>

<script>
function toggle(id) {
  const input = document.getElementById("pwd-" + id);
  input.type = input.type === "password" ? "text" : "password";
}
</script>
